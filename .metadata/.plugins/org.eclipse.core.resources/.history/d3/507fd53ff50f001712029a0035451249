import java.io.IOException;

public class ClusterProg {
	// args[0] is image name, must be jpeg.
	// args[1] is the K
	public static void main(String args[]) throws IOException {
		RGBImage inputImg = new RGBImage(args[0]);

		KMeans km = new KMeans(Integer.parseInt(args[1]), 3, inputImg.getNumRows(), inputImg.getNumCols());

		// write code to compute the characteristics of each pixel and then
		// assign those properties for that pixel
		double[] RGBVals = new double[3];
		for (int r = 0; r < inputImg.getNumRows(); r++) {
			for (int c = 0; c < inputImg.getNumCols(); c++) {
				RGBVals[0]=inputImg.getPixel(r, c).getRed();
				RGBVals[1]=inputImg.getPixel(r, c).getGreen();
				RGBVals[2]=inputImg.getPixel(r, c).getBlue();
				km.assignPixelProperties(r, c, RGBVals);
			}
		}

		// need to call: km.assignPixelProperties(r,c,properties);

		RGBImage labelledImage = km.runKmeans();
		labelledImage.writeImage("segmentedByColorK" + args[1] + "-" + args[0]);
	}
}
